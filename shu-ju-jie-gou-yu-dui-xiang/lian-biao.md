# 链表

链表提供了高效的节点重排能力，以及顺序行的节点访问方式，并且可以通过增删节点来灵活的调整链表的长度。在redis中通过C语言自己实现了一个链表。

链表在Redis中的应用非常广泛，比如列表键的底层实现之一就是链表。当一个列表键包含的元素较多时，又或者列表中包含的元素都是比较长的字符串时，Redis就会使用链表作为列表键的底层实现。

除了链表键之外，发布与订阅，慢查询，监视器等功能也用到了链表，Redis服务器本身还使用链表来保存客户端的状态信息等。

## 链表和链表节点的实现

![](../.gitbook/assets/image%20%28238%29.png)

虽然仅仅使用多个ListNode就可以组成链表，但是使用一个单独结构体来持有链表的话操作会更方便。

![](../.gitbook/assets/image%20%28242%29.png)

list结构体为链表提供了表头指针head，表尾指针tail，以及链表长度计数器len，而dup，free，match成员则是用于实现多态链表所需的类型特定函数。

* dup函数用于复制链表节点所保存的值
* free函数用于释放链表节点所保存的值
* match函数用于对比链表节点所保存的值和另外一个输入值是否相等

![](../.gitbook/assets/image%20%28240%29.png)



